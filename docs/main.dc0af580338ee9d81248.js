!function(e){function t(t){for(var n,o,s=t[0],c=t[1],i=t[2],d=0,f=[];d<s.length;d++)o=s[d],u[o]&&f.push(u[o][0]),u[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(l&&l(t);f.length;)f.shift()();return a.push.apply(a,i||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==u[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},u={1:0},a=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=c;a.push([410,0]),r()}({116:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.ADD=void 0;var n=r(79),u=t.ADD=n.NAME+"/ADD";t.add=function(){return{type:u}}},117:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tick=t.TICK=void 0;var n=r(80),u=t.TICK=n.NAME+"/TICK";t.tick=function(){return{type:u}}},118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,u=r(80),a=r(117),o=r(170),s=(n=o)&&n.__esModule?n:{default:n};t.default={NAME:u.NAME,TICK_INTERVAL_MS:u.TICK_INTERVAL_MS,TICK:a.TICK,saga:s.default,tick:a.tick}},119:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResourcesList=t.isFull=t.getPerSecond=t.getMax=t.getCurrent=void 0;var n=r(49),u=r(82);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=t.getCurrent=function(e,t){return e.getIn([u.NAME,"current",t],0)},s=(0,n.Map)(a({},u.QI,function(){return 5})),c=t.getMax=function(e,t){return s.get(t)(e)},i=(0,n.Map)(a({},u.QI,function(){return.5})),l=(t.getPerSecond=function(e,t){return i.get(t)(e)},t.isFull=function(e,t){return o(e,t)>=c(e,t)},(0,n.List)([u.QI]));t.getResourcesList=function(){return l}},120:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadMessages=t.MESSAGES_LOAD=void 0;var n=r(84),u=t.MESSAGES_LOAD=n.NAME+"/MESSAGES_LOAD";t.loadMessages=function(e){return{type:u,payload:e}}},160:function(e,t){e.exports={"unit.second.short":"s","resource.qi":"Qi"}},161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(59)),u=a(r(118));function a(e){return e&&e.__esModule?e:{default:e}}t.default=[n.default,u.default].map(function(e){return e.saga})},162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n,u=r(55),a=r(161),o=(n=a)&&n.__esModule?n:{default:n};var s=regeneratorRuntime.mark(c);function c(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.all)(o.default.map(u.fork));case 2:case"end":return e.stop()}},s,this)}},163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(59)),u=a(r(60));function a(e){return e&&e.__esModule?e:{default:e}}t.default=[n.default,u.default].reduce(function(e,t){return Object.assign({},e,(r={},n=t.NAME,u=t.reducer,n in r?Object.defineProperty(r,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[n]=u,r));var r,n,u},{})},164:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(116);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return arguments[1].type===n.ADD?e+1:e}},165:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCount=void 0;var n=r(79);t.getCount=function(e){return e.get(n.NAME)}},166:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,u=r(79),a=r(116),o=r(165),s=r(164),c=(n=s)&&n.__esModule?n:{default:n};t.default={NAME:u.NAME,add:a.add,getCount:o.getCount,reducer:c.default}},167:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,u=r(166),a=(n=u)&&n.__esModule?n:{default:n};t.default=[a.default].reduce(function(e,t){return Object.assign({},e,(r={},n=t.NAME,u=t.reducer,n in r?Object.defineProperty(r,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[n]=u,r));var r,n,u},{})},168:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=r(83),a=s(r(167)),o=s(r(163));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,u.combineReducers)(n({},o.default,a.default))},169:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(112),u=s(r(115)),a=s(r(168)),o=s(r(162));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,u.default)(),i=(0,n.compose)((0,n.applyMiddleware)(c),window.devToolsExtension?window.devToolsExtension():function(e){return e});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,n.createStore)(a.default,i);return e.forEach(t.dispatch),c.run(o.default),t}},170:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=r(115),u=r(55),a=r(80),o=r(117),s=regeneratorRuntime.mark(i),c=regeneratorRuntime.mark(l);function i(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.fork)(l);case 2:case"end":return e.stop()}},s,this)}function l(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.put)((0,o.tick)());case 2:return e.next=4,(0,u.call)(n.delay,a.TICK_INTERVAL_MS);case 4:e.next=0;break;case 6:case"end":return e.stop()}},c,this)}},171:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,u=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){u=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(u)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=v;var u,a=r(55),o=r(49),s=r(118),c=(u=s)&&u.__esModule?u:{default:u},i=r(81),l=r(119);var d=regeneratorRuntime.mark(v),f=regeneratorRuntime.mark(_),p=regeneratorRuntime.mark(M);function v(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.takeEvery)(i.ADD,_);case 2:return e.next=4,(0,a.takeEvery)(c.default.TICK,M);case 4:case"end":return e.stop()}},d,this)}function _(e){var t,r,u,s,c,d=e.payload,p=e.meta;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.all)([(0,a.select)(l.getCurrent,p.resource),(0,a.select)(l.getMax,p.resource)]);case 2:return t=e.sent,r=n(t,2),u=r[0],s=r[1],c=Math.min(u+d,s),e.next=9,(0,a.put)((0,i.setBulk)((0,o.Map)((f={},v=p.resource,_=c,v in f?Object.defineProperty(f,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):f[v]=_,f))));case 9:case"end":return e.stop()}var f,v,_},f,this)}function M(){var e,t,r,n,u;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,a.select)(l.getResourcesList);case 2:return e=s.sent.toJS(),s.next=5,(0,a.all)(e.map(function(e){return(0,a.select)(l.getCurrent,e)}));case 5:return t=s.sent,s.next=8,(0,a.all)(e.map(function(e){return(0,a.select)(l.getPerSecond,e)}));case 8:return r=s.sent,s.next=11,(0,a.all)(e.map(function(e){return(0,a.select)(l.getMax,e)}));case 11:if(n=s.sent,(u=e.reduce(function(e,u,a){var o=r[a]*(c.default.TICK_INTERVAL_MS/1e3);return t[a]>=n[a]?e:e.set(u,Math.min(o+t[a],n[a]))},(0,o.Map)())).isEmpty()){s.next=16;break}return s.next=16,(0,a.put)((0,i.setBulk)(u));case 16:case"end":return s.stop()}},p,this)}},172:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(83),u=r(49),a=r(81);t.default=(0,n.combineReducers)({current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,u.Map)(),t=arguments[1],r=t.type,n=t.payload;switch(r){case a.SET_BULK:return e.merge(n);default:return e}}})},173:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={formatInt:function(e){return Math.floor(e).toString()},formatFloat:function(e){return Number(e).toFixed(2).toString()}}},174:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={noop:function(){},identity:function(e){return e}}},175:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(174);Object.defineProperty(t,"fn",{enumerable:!0,get:function(){return a(n).default}});var u=r(173);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"number",{enumerable:!0,get:function(){return a(u).default}})},176:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var n=i(r(22)),u=i(r(14)),a=r(78),o=i(r(60)),s=r(175),c=i(r(59));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.current,r=e.max,u=e.displayName,a=e.isFull,o=e.onAdd,c=e.perSecond,i=e.msg;return n.default.createElement("div",{title:s.number.formatFloat(t)},n.default.createElement("span",null,u,": "),n.default.createElement("span",null,s.number.formatInt(t),"/",s.number.formatInt(r)),n.default.createElement("span",null,"(",s.number.formatFloat(c),"/",i.secondShort,")"),"Â ",n.default.createElement("button",{disabled:a,onClick:o},"+"))};l.propTypes={current:u.default.number.isRequired,max:u.default.number.isRequired,perSecond:u.default.number.isRequired,displayName:u.default.string.isRequired,isFull:u.default.bool.isRequired,onAdd:u.default.func.isRequired,msg:u.default.object.isRequired};var d=o.default.createGetMessages({secondShort:"unit.second.short"});(t.Resource=(0,a.connect)(function(e,t){var r=t.resource;return{current:c.default.getCurrent(e,r),max:c.default.getMax(e,r),isFull:c.default.isFull(e,r),perSecond:c.default.getPerSecond(e,r),displayName:o.default.getMessage(e,r),msg:d(e)}},function(e,t){var r=t.resource;return{onAdd:function(){return e(c.default.add(r,1))}}})(l)).propTypes={resource:u.default.string.isRequired}},177:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,u=r(14),a=(n=u)&&n.__esModule?n:{default:n};var o=function(e){return e.text};o.propTypes={text:a.default.string.isRequired},t.default=o},178:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(14)),u=r(78),a=s(r(60)),o=s(r(177));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,u.connect)(function(e,t){var r=t.msg;return{text:a.default.getMessage(e,r)}})(o.default);c.defaultProps={params:null},c.propTypes={msg:n.default.string.isRequired},c.displayName="Msg",t.default=c},179:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(178);Object.defineProperty(t,"Msg",{enumerable:!0,get:function(){return(e=n,e&&e.__esModule?e:{default:e}).default;var e}});var u=r(176);Object.defineProperty(t,"Resource",{enumerable:!0,get:function(){return u.Resource}})},183:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=s(r(22)),u=r(181),a=r(179),o=s(r(59));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,u.hot)(e)(function(){return n.default.createElement("div",null,n.default.createElement(a.Resource,{resource:o.default.QI}))})}).call(this,r(182)(e))},188:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(22)),u=r(78),a=o(r(183));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.store;return n.default.createElement(u.Provider,{store:t},n.default.createElement(a.default,null))}},193:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(49),u=r(83),a=r(120);t.default=(0,u.combineReducers)({messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,n.Map)(),t=arguments[1];switch(t.type){case a.MESSAGES_LOAD:return e.merge((0,n.fromJS)(t.payload));default:return e}}})},195:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGetMessages=t.getMessage=void 0;var n=r(194),u=r(84),a=t.getMessage=function(e,t){var r=function(e){return e.get(u.NAME)}(e).getIn(["messages",t]);return r||"["+t+"]"};t.createGetMessages=function(e){var t={};return Object.keys(e).forEach(function(r){t[r]=function(t){return a(t,e[r])}}),(0,n.createStructuredSelector)(t)}},207:function(e,t,r){"use strict";var n=i(r(22)),u=r(205),a=i(r(60)),o=i(r(188)),s=i(r(169)),c=i(r(160));function i(e){return e&&e.__esModule?e:{default:e}}var l,d=(0,s.default)([a.default.loadMessages(c.default)]);l=o.default,(0,u.render)(n.default.createElement(l,{store:d}),document.querySelector("#app"))},410:function(e,t,r){r(409),e.exports=r(207)},59:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(82),u=r(81),a=r(119),o=c(r(172)),s=c(r(171));function c(e){return e&&e.__esModule?e:{default:e}}t.default={NAME:n.NAME,reducer:o.default,saga:s.default,QI:n.QI,getCurrent:a.getCurrent,getMax:a.getMax,getPerSecond:a.getPerSecond,isFull:a.isFull,add:u.add}},60:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,u=r(84),a=r(195),o=r(193),s=(n=o)&&n.__esModule?n:{default:n},c=r(120);var i={NAME:u.NAME,getMessage:a.getMessage,createGetMessages:a.createGetMessages,loadMessages:c.loadMessages,reducer:s.default};t.default=i},79:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="pokus"},80:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="core-time",t.TICK_INTERVAL_MS=1e3},81:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setBulk=t.add=t.SET_BULK=t.ADD=void 0;var n=r(82),u=t.ADD=n.NAME+"/ADD",a=t.SET_BULK=n.NAME+"/BULK";t.add=function(e,t){return{type:u,meta:{resource:e},payload:t}},t.setBulk=function(e){return{type:a,payload:e}}},82:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="core-resources",t.QI="resource.qi"},84:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="core-i18n"}});
//# sourceMappingURL=main.dc0af580338ee9d81248.js.map