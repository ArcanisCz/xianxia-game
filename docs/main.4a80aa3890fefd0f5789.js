!function(e){function t(t){for(var n,a,c=t[0],i=t[1],l=t[2],s=0,d=[];s<c.length;s++)a=c[s],u[a]&&d.push(u[a][0]),u[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(f&&f(t);d.length;)d.shift()();return o.push.apply(o,l||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var i=r[c];0!==u[i]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},u={1:0},o=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var f=i;o.push([401,0]),r()}({113:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.ADD=void 0;var n=r(77),u=t.ADD=n.NAME+"/ADD";t.add=function(){return{type:u}}},114:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tick=t.TICK=void 0;var n=r(78),u=t.TICK=n.NAME+"/TICK";t.tick=function(){return{type:u}}},115:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,u=r(78),o=r(114),a=r(166),c=(n=a)&&n.__esModule?n:{default:n};t.default={NAME:u.NAME,TICK_INTERVAL_MS:u.TICK_INTERVAL_MS,TICK:o.TICK,saga:c.default,tick:o.tick}},118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getResourcesList=t.isFull=t.getPerSecond=t.getMax=t.getCurrent=void 0;var n=r(55),u=r(80);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=t.getCurrent=function(e,t){return e.getIn([u.NAME,"current",t],0)},c=(0,n.Map)(o({},u.QI,function(){return 5})),i=t.getMax=function(e,t){return c.get(t)(e)},l=(0,n.Map)(o({},u.QI,function(){return.5})),f=(t.getPerSecond=function(e,t){return l.get(t)(e)},t.isFull=function(e,t){return a(e,t)>=i(e,t)},(0,n.List)([u.QI]));t.getResourcesList=function(){return f}},157:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(59)),u=o(r(115));function o(e){return e&&e.__esModule?e:{default:e}}t.default=[n.default,u.default].map(function(e){return e.saga})},158:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n,u=r(54),o=r(157),a=(n=o)&&n.__esModule?n:{default:n};var c=regeneratorRuntime.mark(i);function i(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.all)(a.default.map(u.fork));case 2:case"end":return e.stop()}},c,this)}},159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,u=r(59),o=(n=u)&&n.__esModule?n:{default:n};t.default=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},o.default.NAME,o.default.reducer)},160:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(113);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return arguments[1].type===n.ADD?e+1:e}},161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCount=void 0;var n=r(77);t.getCount=function(e){return e.get(n.NAME)}},162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,u=r(77),o=r(113),a=r(161),c=r(160),i=(n=c)&&n.__esModule?n:{default:n};t.default={NAME:u.NAME,add:o.add,getCount:a.getCount,reducer:i.default}},163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,u=r(162),o=(n=u)&&n.__esModule?n:{default:n};t.default=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},o.default.NAME,o.default.reducer)},164:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=r(117),o=c(r(163)),a=c(r(159));function c(e){return e&&e.__esModule?e:{default:e}}t.default=(0,u.combineReducers)(n({},a.default,o.default))},165:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(108),u=c(r(111)),o=c(r(164)),a=c(r(158));function c(e){return e&&e.__esModule?e:{default:e}}var i=(0,u.default)(),l=(0,n.compose)((0,n.applyMiddleware)(i),window.devToolsExtension?window.devToolsExtension():function(e){return e});t.default=function(){var e=(0,n.createStore)(o.default,l);return i.run(a.default),e}},166:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var n=r(111),u=r(54),o=r(78),a=r(114),c=regeneratorRuntime.mark(l),i=regeneratorRuntime.mark(f);function l(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.fork)(f);case 2:case"end":return e.stop()}},c,this)}function f(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.put)((0,a.tick)());case 2:return e.next=4,(0,u.call)(n.delay,o.TICK_INTERVAL_MS);case 4:e.next=0;break;case 6:case"end":return e.stop()}},i,this)}},167:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,u=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){u=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(u)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=v;var u,o=r(54),a=r(55),c=r(115),i=(u=c)&&u.__esModule?u:{default:u},l=r(79),f=r(118);var s=regeneratorRuntime.mark(v),d=regeneratorRuntime.mark(_),p=regeneratorRuntime.mark(M);function v(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(l.ADD,_);case 2:return e.next=4,(0,o.takeEvery)(i.default.TICK,M);case 4:case"end":return e.stop()}},s,this)}function _(e){var t,r,u,c,i,s=e.payload,p=e.meta;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.all)([(0,o.select)(f.getCurrent,p.resource),(0,o.select)(f.getMax,p.resource)]);case 2:return t=e.sent,r=n(t,2),u=r[0],c=r[1],i=Math.min(u+s,c),e.next=9,(0,o.put)((0,l.setBulk)((0,a.Map)((d={},v=p.resource,_=i,v in d?Object.defineProperty(d,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):d[v]=_,d))));case 9:case"end":return e.stop()}var d,v,_},d,this)}function M(){var e,t,r,n,u;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,o.select)(f.getResourcesList);case 2:return e=c.sent.toJS(),c.next=5,(0,o.all)(e.map(function(e){return(0,o.select)(f.getCurrent,e)}));case 5:return t=c.sent,c.next=8,(0,o.all)(e.map(function(e){return(0,o.select)(f.getPerSecond,e)}));case 8:return r=c.sent,c.next=11,(0,o.all)(e.map(function(e){return(0,o.select)(f.getMax,e)}));case 11:if(n=c.sent,(u=e.reduce(function(e,u,o){var a=r[o]*(i.default.TICK_INTERVAL_MS/1e3);return t[o]>=n[o]?e:e.set(u,Math.min(a+t[o],n[o]))},(0,a.Map)())).isEmpty()){c.next=16;break}return c.next=16,(0,o.put)((0,l.setBulk)(u));case 16:case"end":return c.stop()}},p,this)}},172:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(117),u=r(55),o=r(79);t.default=(0,n.combineReducers)({current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,u.Map)(),t=arguments[1],r=t.type,n=t.payload;switch(r){case o.SET_BULK:return e.merge(n);default:return e}}})},173:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={formatInt:function(e){return Math.floor(e).toString()},formatFloat:function(e){return Number(e).toFixed(2).toString()}}},174:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={noop:function(){},identity:function(e){return e}}},175:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(174);Object.defineProperty(t,"fn",{enumerable:!0,get:function(){return o(n).default}});var u=r(173);function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"number",{enumerable:!0,get:function(){return o(u).default}})},176:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var n=i(r(22)),u=i(r(18)),o=r(112),a=r(175),c=i(r(59));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.current,r=e.max,u=e.resource,o=e.isFull,c=e.onAdd,i=e.perSecond;return n.default.createElement("div",{title:a.number.formatFloat(t)},u,":  ",a.number.formatFloat(t),"/",a.number.formatInt(r)," (",a.number.formatFloat(i),"/s)  ",n.default.createElement("button",{disabled:o,onClick:c},"+"))};l.propTypes={current:u.default.number.isRequired,max:u.default.number.isRequired,perSecond:u.default.number.isRequired,resource:u.default.string.isRequired,isFull:u.default.bool.isRequired,onAdd:u.default.func.isRequired};(t.Resource=(0,o.connect)(function(e,t){var r=t.resource;return{current:c.default.getCurrent(e,r),max:c.default.getMax(e,r),isFull:c.default.isFull(e,r),perSecond:c.default.getPerSecond(e,r)}},function(e,t){var r=t.resource;return{onAdd:function(){return e(c.default.add(r,1))}}})(l)).propTypes={resource:u.default.string.isRequired}},177:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(176);Object.defineProperty(t,"Resource",{enumerable:!0,get:function(){return n.Resource}})},181:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(22)),u=r(179),o=r(177),a=c(r(59));function c(e){return e&&e.__esModule?e:{default:e}}t.default=(0,u.hot)(e)(function(){return n.default.createElement("div",null,n.default.createElement(o.Resource,{resource:a.default.QI}))})}).call(this,r(180)(e))},186:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(22)),u=r(112),o=a(r(181));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.store;return n.default.createElement(u.Provider,{store:t},n.default.createElement(o.default,null))}},198:function(e,t,r){"use strict";var n=a(r(22)),u=r(196),o=a(r(186));function a(e){return e&&e.__esModule?e:{default:e}}var c,i=(0,a(r(165)).default)();c=o.default,(0,u.render)(n.default.createElement(c,{store:i}),document.querySelector("#aaa"))},401:function(e,t,r){r(400),e.exports=r(198)},59:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(80),u=r(79),o=r(118),a=i(r(172)),c=i(r(167));function i(e){return e&&e.__esModule?e:{default:e}}t.default={NAME:n.NAME,reducer:a.default,saga:c.default,QI:n.QI,getCurrent:o.getCurrent,getMax:o.getMax,getPerSecond:o.getPerSecond,isFull:o.isFull,add:u.add}},77:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="pokus"},78:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="core-time",t.TICK_INTERVAL_MS=1e3},79:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setBulk=t.add=t.SET_BULK=t.ADD=void 0;var n=r(80),u=t.ADD=n.NAME+"/ADD",o=t.SET_BULK=n.NAME+"/BULK";t.add=function(e,t){return{type:u,meta:{resource:e},payload:t}},t.setBulk=function(e){return{type:o,payload:e}}},80:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAME="core-resources",t.QI="resource.qi"}});
//# sourceMappingURL=main.4a80aa3890fefd0f5789.js.map